<div class='search-form'>
  <%= form_tag( { :controller => 'search', :action => @asset ? @asset : 'index', :asset => nil, :category_path => ( @category ? @category.path : nil ) },
                 :method => 'get', :class => 'search_form' ) do %>

    <div style="margin:0;padding:0;display:inline">
      <input name="utf8" type="hidden" value="&#x2713;" /></div>
    <%= hidden_field_tag :display, params[:display] %>
    <%= hidden_field_tag :filter, params[:filter] %>

    <div class="search-field">
      <span class="formfield">
        <%= text_field_tag 'query', @query, :id => 'search-input', :size => 50, :placeholder=>_("Type words about the software_info you're looking for") %>
      </span>

      <%= submit_button(:search, _('Filter')) %>
    </div>
    <%= render :partial => 'search_form_extra_fields' %>
    <%= render :partial => 'catalog_filter' %>

    <!-- #display-options sera substituido pelo html passado pela equipe de design -->
    <div id="display-options" class="">
      <div id="software-count">
        <strong><%= "#{@software_count} Software(s)" %> </strong>
      </div>

      <div>
        <div>
          Show:
          <%= select_tag("software_display",
            options_for_select(['15', '30', '90', 'All'], :selected=>params[:display])
          ) %>
        </div>

        <div>
          Sort by:
          <%= select_tag("sort",
            options_for_select(
              [
                [_("Name A-Z"), 'asc'],
                [_("Name Z-A"), 'desc']
              ], :selected=>params[:sort])
          ) %>
        </div>
      </div>
    </div>
  <% end %>

  <% if @empty_query %>
    <% hint = environment.search_hints[@asset] %>
    <% if hint and !hint.blank? %>
      <div class="search-hint"><%= hint %></div>
    <% end %>
  <% end %>

  <div style="clear: both"></div>
</div>
