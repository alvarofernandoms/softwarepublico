#
# Spec file do solr
#

# Preamble

Summary: Solr is the search platform from Apache Lucene project.
Name: softwarepublico-solr
Version: @@version@@
Release: 1%{?dist}

License: Apache License, Version 2.0
Group: Applications/Internet
Source: %{name}-%{version}.tar.gz
#Source:	http://archive.apache.org/dist/lucene/solr/4.6.1/solr-4.6.1.tgz
URL: http://lucene.apache.org/solr/
Vendor: The Apache Software Foundation

%description
SolrTM is the popular, blazing fast open source enterprise search platform from the Apache LuceneTM project. Its major features include powerful full-text search, hit highlighting, faceted search, near real-time indexing, dynamic clustering, database integration, rich document (e.g., Word, PDF) handling, and geospatial search. Solr is highly reliable, scalable and fault tolerant, providing distributed indexing, replication and load-balanced querying, automated failover and recovery, centralized configuration and more. Solr powers the search and navigation features of many of the world's largest internet sites.

# Esta seção prepara o ambiente para a construção do pacote. Pode ser
# entendida como um shell script, e é o local onde podem ser aplicados
# os patches
%prep

# A macro %setup prepara o ambiente, de forma semelhante aos comandos abaixo:
#   rm -rf $RPM_BUILD_DIR/cdp-0.33
#   zcat $RPM_SOURCE_DIR/cdp-0.33.tar.gz | tar vxf -
%setup

# Esta é a seção responsável pela construção do software. Também é um
# shell script, e não tem macros associadas
%build

# Seção responsável pela instalação do software. Também é um shell script
%install
mkdir -p %{buildroot}/usr/share/solr
cp -r %{_builddir}/%{name}-%{version} %{buildroot}/usr/share/solr

mkdir -p %{buildroot}/usr/share/solr/example/solr
cp -r %{_builddir}/%{name}-%{version}/example/webapps/solr.war %{buildroot}/usr/share/solr/example/solr/solr.war

# Esta seção lista todos os arquivos que fazem parte do pacote: se um
# arquivo não for listado abaixo, não será inserido no pacote. A diretiva
# %doc indica um arquivo de documentação
%files
/usr/share/solr

# Esta seção remove os arquivos que foram criados durante o build
%clean
rm -rf %{buildroot}

